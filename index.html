<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Noa | links</title>

<style>
:root{
  --card:#ffffff;
  --text:#222;
  --muted:#666;
  --btn:#e3d9cf;
  --btnText:#222;
  --radius:18px;
  --shadow:0 10px 30px rgba(0,0,0,.15);
}

/* 背景設定 */
body{
  margin:0;
  font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans JP",sans-serif;
  color:var(--text);

  background-size:cover;
  background-position:center;
  background-attachment:fixed;
  transition: background-image 1s ease-in-out;

  /* ✅ 白い膜の濃さ（JSが0〜0.65で切り替える） */
  --overlay: 0;
}

/* ✅ 白い膜：濃さを --overlay で制御 */
body::before{
  content:"";
  position:fixed;
  inset:0;
  background:rgba(255,255,255,var(--overlay));
  z-index:-1;
}

.wrap{
  max-width:520px;
  margin:auto;
  padding:22px 16px 40px;
}

.hero{
  background:var(--card);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  overflow:hidden;
}

.hero img{
  width:100%;
  height:220px;
  object-fit:cover;
}

.hero .p{padding:14px;}

h1{margin:0 0 6px;font-size:20px;}
.sub{margin:0;color:var(--muted);font-size:13px;}

.links{
  margin-top:14px;
  display:flex;
  flex-direction:column;
  gap:10px;
}

.btn{
  display:flex;
  justify-content:space-between;
  padding:14px 16px;
  border-radius:14px;
  text-decoration:none;
  background:var(--btn);
  color:var(--btnText);
  font-weight:600;
}

.lang{
  text-align:center;
  margin-top:10px;
}

.lang button{
  padding:8px 12px;
  border-radius:10px;
  border:none;
  cursor:pointer;
}

footer{
  text-align:center;
  margin-top:15px;
  font-size:12px;
  color:var(--muted);
}
</style>
</head>

<body>

<main class="wrap">

<section class="hero">
<img src="https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?auto=format&fit=crop&w=1200&q=60">
<div class="p">
<h1>Noa</h1>
<p class="sub">Countryside aesthetic / quiet life</p>
</div>
</section>

<nav class="links">
<a class="btn" href="#"><span id="btn1">Latest update</span> ›</a>
<a class="btn" href="#"><span id="btn2">About me</span> ›</a>
<a class="btn" href="#"><span id="btn3">Archive</span> ›</a>
<a class="btn" href="#"><span id="btn4">Private area</span> ›</a>
</nav>

<div class="lang">
<button onclick="setLang('ja')">JP</button>
<button onclick="setLang('en')">EN</button>
</div>

<footer>© Noa</footer>

</main>

<script>
  const BG = {
    morning: "images/morning.jpg",
    evening: "images/evening.jpg",
    night: "images/night.jpg"
  };

  function pickBgByTime(){
    const h = new Date().getHours();
    if(h >= 5 && h < 16) return BG.morning;
    if(h >= 16 && h < 19) return BG.evening;
    return BG.night;
  }

  // ✅ 画像の縦横を判定して、白い膜の濃さを切り替える
  function applyOverlayByAspect(imgUrl){
    const img = new Image();
    img.onload = () => {
      const portrait = img.naturalHeight > img.naturalWidth;

      // 横画像：膜なし（背景くっきり）
      // 縦画像：膜あり（余白や視認性を確保）
      document.body.style.setProperty('--overlay', portrait ? '0.55' : '0.00');
    };
    img.onerror = () => {
      // 読めない時は保険で薄めに
      document.body.style.setProperty('--overlay', '0.25');
    };
    img.src = imgUrl;
  }

  function setBG(){
    const imgUrl = pickBgByTime();
    document.body.style.backgroundImage = `url('${imgUrl}')`;
    applyOverlayByAspect(imgUrl);
  }

  setBG();

  // もし日跨ぎでページ開きっぱなしでも切り替えたいなら（任意）
  // setInterval(setBG, 10 * 60 * 1000);

  // --- 言語切替（あなたの既存） ---
  const translations = {
    ja: { latest:"最新情報", about:"プロフィール", archive:"過去の投稿", private:"プライベート" },
    en: { latest:"Latest update", about:"About me", archive:"Archive", private:"Private area" }
  };

  function setLang(lang){
    document.getElementById("btn1").innerText = translations[lang].latest;
    document.getElementById("btn2").innerText = translations[lang].about;
    document.getElementById("btn3").innerText = translations[lang].archive;
    document.getElementById("btn4").innerText = translations[lang].private;
    document.documentElement.lang = lang;
  }

  setLang('ja');
</script>

</body>
</html>
